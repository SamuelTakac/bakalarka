<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jazyk ƒç√≠sel a pravdivostn√Ωch hodn√¥t</title>
    <link rel="stylesheet" href="src/styles/styles.css">
    <script type="text/javascript">
        window.MathJax = {
            loader: {
                load: ['[tex]/bussproofs', '[tex]/color']
            },
            tex: {
                packages: {'[+]': ['bussproofs', 'color']}
            },
            startup: {
                ready: () => {
                    MathJax.startup.defaultReady();
                    MathJax.typeset();
                }
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs/loader.min.js"></script>

    <script type="module" src="src/UI/resizers.js"></script>
    <script type="module" src="src/UI/containersFunctionality.js"></script>
    <script type="module" src="src/UI/buttons.js"></script>
    <script type="module" src="src/term_functions/functions.js"></script>
    <script type="module" src="src/lexer__parser/editor.js"></script>
    <script type="module" src="src/lexer__parser/script.js"></script>
</head>
<body>
    <div class="navbar">
        <div class="navbar-logo">
        <span class="site-title">Vizualiz√°cia a emul√°cia vlastnost√≠ syntaxe a s√©mantiky jednoduch√©ho funkcion√°lneho jazyka</span>
        </div>
        <button id="darkModeToggle" class="buttonDark"><span id="icon">üåô</span></button>
        <a class="formular" href="https://docs.google.com/forms/d/e/1FAIpQLSe47-_ccZAYOd6xAuxVxexx8_ynzs1bQ6oh4O5TV49iHbCXkQ/viewform?usp=header" target="_blank">Formul√°r</a>
        <button data-modal-target="#modal">Pomoc</button>
        <div class="modal" id="modal">
          <div class="modal-header">
            <div class="title">Pomoc</div>
            <button data-close-button class="close-button">&times;</button>
          </div>

          <div class="modal-tabs">
            <button class="tab-button active" data-tab="tab1">Z√°kladn√©</button>
            <button class="tab-button" data-tab="tab2">Gramatika NBL</button>
            <button class="tab-button" data-tab="tab3">Funkcie NBL</button>
            <button class="tab-button" data-tab="tab4">S√©mantika NBL</button>
            <button class="tab-button" data-tab="tab5">Typovan√Ω NBL</button>
          </div>

          <div class="modal-body tab-content active" id="tab1">
                <p>Tento n√°stroj v√°m umo≈æ≈àuje vizualizova≈• a vyhodnocova≈• v√Ωrazy jednoduch√©ho funkcion√°lneho jazyka.</p>
                <p>M√¥≈æete si vybra≈• jeden z predpripraven√Ωch v√Ωrazov pomocou "Vlo≈æ pr√≠klad".</p>
                <p>Na vyhodnotenie netypovan√©ho v√Ωrazu staƒç√≠ zada≈• samotn√Ω v√Ωraz.</p>
                <p>Na vyhodnotenie typovan√©ho v√Ωrazu treba za v√Ωrazom zada≈• jeho typ v tvare ": nat" alebo ": bool".</p>
                <p>Ak m√° term nespr√°vny typ tak m√° vedƒæa seba zobrazen√© "- ZLE".</p>
                <p>Na overenie existencie typu m√¥≈æete za v√Ωrazom zada≈• ": ?". (nesmie by≈• zapnut√© "Krokovanie")</p>
                <p>Po zadan√≠ v√Ωrazu stlaƒçte tlaƒçidlo "Vypracuj".</p>
                <p>M√¥≈æete tie≈æ zapn√∫≈• mo≈ænos≈• "Krokovanie", a postupne zobrazova≈• rie≈°enia po krokoch.</p>
                <p>V√Ωpoƒçty si viete zobrazi≈• aj v m√≥de fullscreen.</p>
                <p>Pomocou "+" a "-" viete upravova≈• veƒækos≈• p√≠sma na editore.</p>
          </div>

          <div class="modal-body tab-content" id="tab2">
            <p>Gramatika definuje mo≈æn√© tvary termov, ktor√© budeme oznaƒçova≈• metapremennou <em>t</em>.</p>
            <p>Gramatika NBL m√° tvar:</p>
            <p><em>t</em> ::= true | false | if <em>t</em> then <em>t</em> else <em>t</em> | 0 | succ <em>t</em> | pred <em>t</em> | iszero <em>t</em></p>
            <p>Metapremenn√∫ <em>t</em> na ƒæavej strane naz√Ωvame aj netermin√°lny symbol.</p>
            <p>Indukt√≠vna defin√≠cia urƒçuje mno≈æinu termov NBL ako najmen≈°iu mno≈æinu Term, ktor√° spƒ∫≈àa urƒçit√© podmienky.</p>
            <p>1. <em>true</em>, <em>false</em> a <em>0</em> patria do mno≈æiny Term.</p>
            <p>2. Ak <em>t‚ÇÅ</em> je v mno≈æine Term, potom aj <em>succ t‚ÇÅ</em>, <em>pred t‚ÇÅ</em>, <em>iszero t‚ÇÅ</em> patria do Term.</p>
            <p>3. Ak <em>t‚ÇÅ</em>, <em>t‚ÇÇ</em> a <em>t‚ÇÉ</em> patria do Term, potom aj <em>if t‚ÇÅ then t‚ÇÇ else t‚ÇÉ</em> patr√≠ do Term.</p>
            <p>ƒéal≈°ou mo≈ænos≈•ou definovania syntaxe je forma odvodzovac√≠ch pravidiel.</p>
            <p>Odvodzovacie pravidlo m√° tvar: predpoklady nad ƒçiarou, z√°ver pod ƒçiarou, spolu s n√°zvom pravidla.</p>
            <p>Ak pravidlo nem√° predpoklady, naz√Ωva sa axi√≥ma.</p>
            <p>Ka≈æd√Ω term mus√≠ by≈• skon≈°truovan√Ω pou≈æit√≠m t√Ωchto pravidiel:</p>
            <ul>
              <li>Axi√≥my: <em>true</em>, <em>false</em>, <em>0</em> patria do mno≈æiny Term.</li>
              <li>Ak <em>t‚ÇÅ</em> ‚àà Term, potom aj <em>succ t‚ÇÅ</em>, <em>pred t‚ÇÅ</em>, <em>iszero t‚ÇÅ</em> patria do Term.</li>
              <li>Ak <em>t‚ÇÅ</em>, <em>t‚ÇÇ</em>, <em>t‚ÇÉ</em> ‚àà Term, potom <em>if t‚ÇÅ then t‚ÇÇ else t‚ÇÉ</em> ‚àà Term.</li>
              <li>Ak <em>t</em> ‚àà Term, potom aj <em>(t)</em> ‚àà Term.</li>
            </ul>
          </div>

          <div class="modal-body tab-content" id="tab3">
            <p><strong>Funkcia Con(t)</strong> vracia mno≈æinu kon≈°t√°nt obsiahnut√Ωch v terme <em>t</em>.</p>
            <ul>
              <li>Con(true) = {true}</li>
              <li>Con(false) = {false}</li>
              <li>Con(0) = {0}</li>
              <li>Con(succ t‚ÇÅ) = Con(t‚ÇÅ)</li>
              <li>Con(pred t‚ÇÅ) = Con(t‚ÇÅ)</li>
              <li>Con(iszero t‚ÇÅ) = Con(t‚ÇÅ)</li>
              <li>Con(if t‚ÇÅ then t‚ÇÇ else t‚ÇÉ) = Con(t‚ÇÅ) ‚à™ Con(t‚ÇÇ) ‚à™ Con(t‚ÇÉ)</li>
            </ul>

            <p><strong>Funkcia Size(t)</strong> urƒçuje veƒækos≈• termu ako poƒçet uzlov syntaktick√©ho stromu.</p>
            <ul>
              <li>Size(true) = 1</li>
              <li>Size(false) = 1</li>
              <li>Size(0) = 1</li>
              <li>Size(succ t‚ÇÅ) = Size(t‚ÇÅ) + 1</li>
              <li>Size(pred t‚ÇÅ) = Size(t‚ÇÅ) + 1</li>
              <li>Size(iszero t‚ÇÅ) = Size(t‚ÇÅ) + 1</li>
              <li>Size(if t‚ÇÅ then t‚ÇÇ else t‚ÇÉ) = Size(t‚ÇÅ) + Size(t‚ÇÇ) + Size(t‚ÇÉ) + 1</li>
            </ul>

            <p><strong>Funkcia depth(t)</strong> urƒçuje hƒ∫bku najdlh≈°ej vetvy syntaktick√©ho stromu.</p>
            <ul>
              <li>depth(true) = 1</li>
              <li>depth(false) = 1</li>
              <li>depth(0) = 1</li>
              <li>depth(succ t‚ÇÅ) = depth(t‚ÇÅ) + 1</li>
              <li>depth(pred t‚ÇÅ) = depth(t‚ÇÅ) + 1</li>
              <li>depth(iszero t‚ÇÅ) = depth(t‚ÇÅ) + 1</li>
              <li>depth(if t‚ÇÅ then t‚ÇÇ else t‚ÇÉ) = max(depth(t‚ÇÅ), depth(t‚ÇÇ), depth(t‚ÇÉ)) + 1</li>
            </ul>
          </div>

          <div class="modal-body tab-content" id="tab4">
            <p>Programy v jazyku NBL s√∫ termy, ktor√© sa daj√∫ vyhodnoti≈• na hodnoty. Vyhodnotenie jednotliv√Ωch krokov sa oznaƒçuje symbolom ‚Üí.</p>
            <p>V√Ωznam termu je jeho v√Ωsledn√° hodnota (napr. <code>true</code>, <code>false</code>, <code>0</code>).</p>
            <p>Keƒè≈æe NBL je netypovan√Ω, m√¥≈æe obsahova≈• aj nespr√°vne termy ako <code>pred(false)</code>, ktor√© s√≠ce s√∫ syntakticky spr√°vne, no nie je ich mo≈æn√© vyhodnoti≈•. Zaveden√≠m typov by sa tak√©to pr√≠pady dali odhali≈• vopred.</p>
            <p><strong>Vyhodnocovacie pravidl√°:</strong></p>
            <ul>
              <li><code>if true then t2 else t3 ‚Üí t2</code></li>
              <li><code>if false then t2 else t3 ‚Üí t3</code></li>
              <li><code>iszero 0 ‚Üí true</code></li>
              <li><code>iszero (succ nv) ‚Üí false</code></li>
              <li><code>pred (succ nv) ‚Üí nv</code></li>
              <li><code>pred 0 ‚Üí 0</code></li>
            </ul>
          </div>

          <div class="modal-body tab-content" id="tab5">
            <p>Typov√© syst√©my sl√∫≈æia na statick√∫ anal√Ωzu programov, ktor√° umo≈æ≈àuje odhali≈• chyby e≈°te pred ich spusten√≠m, ƒç√≠m prispievaj√∫ k spr√°vnosti programov.</p>
            <p>Jazyk NBL roz≈°irujeme o dva z√°kladn√© typy:</p>
            <ul>
              <li><strong>Nat</strong> ‚Äì numerick√© hodnoty (ƒç√≠sla)</li>
              <li><strong>Bool</strong> ‚Äì pravdivostn√© hodnoty (true, false)</li>
            </ul>
            <p>Typy s√∫ priraƒèovan√© termom poƒças prekladu pomocou typovej rel√°cie, ktor√° zabezpeƒçuje jednoznaƒçn√© urƒçenie typu a odhalenie typov√Ωch nezrovnalost√≠.</p>
            <p><strong>Typovacie pravidl√°:</strong></p>
            <ul>
              <li><code>true : Bool</code></li>
              <li><code>false : Bool</code></li>
              <li><code>0 : Nat</code></li>
              <li><code>if t1 : Bool then t2 : T else t3 : T : T</code></li>
              <li><code>succ t1 : Nat</code> &nbsp;&nbsp;&nbsp;&nbsp;- ak <code>t1 : Nat</code></li>
              <li><code>pred t1 : Nat</code> &nbsp;&nbsp;&nbsp;&nbsp;- ak <code>t1 : Nat</code></li>
              <li><code>iszero t1 : Bool</code> &nbsp;&nbsp;&nbsp;&nbsp;- ak <code>t1 : Nat</code></li>
            </ul>
            <p>Typov√° rel√°cia sa overuje pomocou syntaktick√©ho stromu, kde ka≈æd√Ω uzol aplikuje pr√≠slu≈°n√© pravidlo a ak s√∫ v≈°etky listy axi√≥my, term je spr√°vne typovan√Ω.</p>
          </div>
        </div>
        <div id="overlay"></div>
      </div>
    
    <div class="actions-container">
        <button id="increaseFontSizeAndLineHeight">+</button>
        <button id="decreaseFontSizeAndLineHeight">-</button>
        <label class="checkbox-label">
            <input type="checkbox" id="stepCheckbox" class="checkbox" /> Krokovanie
        </label>
        <button id="drawTree" class="cute-button">Vypracuj</button>
        <div class="priklady-container">
            <button class="prikladbtn">Vlo≈æ pr√≠klad ‚ñº</button>
            <div id="priklady" class="priklady-content">
              <a href="#" onclick="insertText('pred(succ 0)')">Jednoduch√Ω</a>
              <a href="#" onclick="insertText('succ ( succ ( if iszero ( succ 0 ) then true else succ ( pred 0 ) ) ) ')">Stredn√Ω</a>
              <a href="#" onclick="insertText('pred( succ( if iszero( succ 0) then pred( if iszero( pred 0) then false else true) else ( if iszero 0 then (if true then true else false) else true))) : nat')">Zlo≈æit√Ω</a>
            </div>
        </div>
    </div>
    
    <div class="row" id="topRow">
      <div id="editor_container"></div>
      <div class="resizer vertical"></div>
      <div class="error_container">Chyby</div>
    </div>

    <div id="accordion-container" style="display: none;">
      <div class="panel">
        <button class="panel-toggle">Kalkul√°cia veƒækosti</button>
        <div class="panel-content">
          <div class="size-container">
            <button class="exportbtn">Export</button>
            <div id="export" class="export-content">
                <a href="#" onclick="copyLatex('sizeLatex')">LaTeX</a>
            </div>
              
            <button id="sizeButton" class="cute-button" hidden>ƒéal≈°i krok</button>
            <button class="fullscreen-button">‚õ∂</button>
            <div id="size" class="zoom-target"></div>
          </div>
        </div>
      </div>

      <div class="panel">
        <button class="panel-toggle">Kalkul√°cia poƒçtu kon≈°t√°nt</button>
        <div class="panel-content">
          <div class="constants-container">
            <button class="exportbtn">Export</button>
            <div id="export" class="export-content">
              <a href="#" onclick="copyLatex('conLatex')">LaTeX</a>
            </div>
            <button id="conButton" class="cute-button" hidden>ƒéal≈°i krok</button>
            <button class="fullscreen-button">‚õ∂</button>
            <div id="constants"></div>
          </div>
        </div>
      </div>

      <div class="panel">
        <button class="panel-toggle">Kalkul√°cia hƒ∫bky</button>
        <div class="panel-content">
          <div class="depth-container">
            <button class="exportbtn">Export</button>
            <div id="export" class="export-content">
              <a href="#" onclick="copyLatex('depthLatex')">LaTeX</a>
            </div>

            <button id="depthButton" class="cute-button" hidden>ƒéal≈°i krok</button>
            <button class="fullscreen-button">‚õ∂</button>
            <div id="depth"></div>

          </div>
        </div>
      </div>

      <div class="panel">
        <button class="panel-toggle">Syntaktick√Ω strom</button>
        <div class="panel-content">
          <div class="results-container">
            <button class="exportbtn">Export</button>
            <div id="export" class="export-content">
              <a href="#" onclick="copyLatex('tree')">LaTeX</a>
            </div>

            <button id="visualButton" class="cute-button" hidden>ƒéal≈°i krok</button>
            <button class="fullscreen-button">‚õ∂</button>
            <div id="visualization"></div>
          </div>
        </div>
      </div>

      <div class="panel">
        <button class="panel-toggle">Evalu√°cia termu</button>
        <div class="panel-content">
          <div class="evaluate-container">
            <button class="exportbtn">Export</button>
            <div id="export" class="export-content">
              <a href="#" onclick="copyLatex('evalLatex')">LaTeX</a>
            </div>

            <button id="evalButton" class="cute-button" hidden>ƒéal≈°i krok</button>
            <button class="fullscreen-button">‚õ∂</button>
            <div id="evaluate"></div>

          </div>
        </div>
      </div>
    </div>

</body>
</html>

